<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="product_template_form_view_gold_pricing" model="ir.ui.view">
        <field name="name">product.template.form.gold.pricing</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">
            <!-- Add gold pricing fields to the form view -->
            <xpath expr="//field[@name='standard_price']" position="after">
                <group string="Gold Pricing" col="4" invisible="not is_gold_product">
                    <field name="is_gold_product" invisible="1"/>
                    <field name="gold_weight_g" required="is_gold_product"/>
                    <field name="gold_purity" required="is_gold_product"/>
                    <field name="gold_type" required="is_gold_product"/>
                    <field name="gold_cost_price" readonly="1" groups="base.group_system"/>
                    <field name="gold_min_sale_price" readonly="1"/>
                </group>
            </xpath>
        </field>
    </record>
    
    <!-- Tree view to show gold pricing info -->
    <record id="product_template_tree_view_gold_pricing" model="ir.ui.view">
        <field name="name">product.template.tree.gold.pricing</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_tree_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='list_price']" position="after">
                <field name="is_gold_product" optional="hide"/>
                <field name="gold_min_sale_price" optional="hide" 
                       invisible="not is_gold_product"/>
            </xpath>
        </field>
    </record>
</odoo>

