<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="product_template_form_view_jewellery_evaluator" model="ir.ui.view">
        <field name="name">product.template.form.jewellery.evaluator</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page string="Jewellery">
                    <group>
                        <field name="is_gold_product" invisible="1"/>
                        <field name="is_diamond_product" invisible="1"/>
                        <field name="is_silver_product" invisible="1"/>
                        <group col="2">
                            <field name="jewellery_type"/>
                            <field name="jewellery_weight_g"/>
                        </group>
                        <group invisible="jewellery_type not in ('gold_local', 'gold_foreign', 'gold_bars')">
                            <group col="2">
                                <field name="gold_purity" string="Jewellery Karat"/>
                                <field name="gold_type" invisible="1" groups="jewellery_evaluator.group_jewellery_evaluator_manager"/>
                            </group>
                            <group col="2">
                                <field name="gold_cost_price" readonly="1" groups="base.group_system"/>
                                <field name="gold_min_sale_price" readonly="1"/>
                            </group>
                        </group>
                        <group invisible="jewellery_type != 'diamond_jewellery'">
                            <group col="2">
                                <field name="diamond_karat" string="Jewellery Karat"/>
                                <field name="diamond_usd_price" string="Diamond USD Ticket Price" groups="jewellery_evaluator.group_jewellery_evaluator_manager"/>
                            </group>
                        </group>
                        <group invisible="jewellery_type != 'silver'">
                            <group col="2">
                                <field name="silver_purity" string="Jewellery Karat"/>
                            </group>
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
    
    <!-- Tree view to show gold pricing info -->
    <record id="product_template_tree_view_jewellery_evaluator" model="ir.ui.view">
        <field name="name">product.template.tree.jewellery.evaluator</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_tree_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='list_price']" position="after">
                <field name="jewellery_type" optional="show"/>
                <field name="is_gold_product" optional="hide"/>
                <field name="is_diamond_product" optional="hide"/>
                <field name="is_silver_product" optional="hide"/>
                <field name="gold_min_sale_price" optional="hide" 
                       invisible="not is_gold_product"/>
            </xpath>
        </field>
    </record>
</odoo>

